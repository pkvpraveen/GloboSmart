
CREATE TABLE PRODUCT (
	ID BIGINT GENERATED BY DEFAULT AS IDENTITY,
	NAME VARCHAR(255) NOT NULL,
	DISPLAY_NAME VARCHAR(255) NOT NULL,
	TYPE_ID BIGINT NOT NULL
);

CREATE TABLE PRODUCT_TYPE (
	ID BIGINT GENERATED BY DEFAULT AS IDENTITY,
	NAME VARCHAR(255) NOT NULL
);

CREATE TABLE COUNTRY (
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY,
    NAME VARCHAR(255) NOT NULL,
    COUNTRY_CODE VARCHAR(25) NOT NULL
);

CREATE TABLE PRODUCT_COUNTRY_XREF(
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY,
    PRODUCT_ID BIGINT NOT NULL,
    COUNTRY_ID BIGINT NOT NULL
);

ALTER TABLE PRODUCT ADD FOREIGN KEY (TYPE_ID) REFERENCES PRODUCT_TYPE(ID);
ALTER TABLE PRODUCT_COUNTRY_XREF ADD FOREIGN KEY (PRODUCT_ID) REFERENCES PRODUCT(ID);
ALTER TABLE PRODUCT_COUNTRY_XREF ADD FOREIGN KEY (COUNTRY_ID) REFERENCES COUNTRY(ID);